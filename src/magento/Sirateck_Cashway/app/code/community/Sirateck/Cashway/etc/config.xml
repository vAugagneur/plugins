<?xml version="1.0" encoding="UTF-8"?>
<config>
	<modules>
		<Sirateck_Cashway>
			<version>0.1.0</version>
		</Sirateck_Cashway>
	</modules>
	<global>
		<blocks>
			<cashway>
				<class>Sirateck_Cashway_Block</class>
			</cashway>
		</blocks>
		<helpers>
			<cashway>
				<class>Sirateck_Cashway_Helper</class>
			</cashway>
		</helpers>
		<models>
			<cashway>
				<class>Sirateck_Cashway_Model</class>
				<resourceModel>cashway_resource</resourceModel>
			</cashway>
			 <cashway_resource>
                <class>Sirateck_Cashway_Model_Resource</class>
                <!-- <deprecatedNode>cashway_mysql4</deprecatedNode> -->
            </cashway_resource>
		</models>
		<resources>
            <sirateck_cashway_setup>
                <setup>
                    <module>Sirateck_Cashway</module>
                </setup>
            </sirateck_cashway_setup>
        </resources>
	</global>
	<frontend>
	    <routers>
			<cashway>
				<use>standard</use>
				<args>
					<module>Sirateck_Cashway</module>
					<frontName>cashway</frontName>
				</args>
			</cashway>
        </routers>
		 <translate>
            <modules>
                <Sirateck_Cashway>
                    <files>
                        <default>Sirateck_Cashway.csv</default>
                    </files>
                </Sirateck_Cashway>
            </modules>
        </translate>
	</frontend>
	<adminhtml>
		 <translate>
            <modules>
                <Sirateck_Cashway>
                    <files>
                        <default>Sirateck_Cashway.csv</default>
                    </files>
                </Sirateck_Cashway>
            </modules>
        </translate>
        <events>
	        <core_config_data_save_after>
	              <observers>
	                  <cashway_account_config>
	                      <class>Sirateck_Cashway_Model_Observer</class>
	                      <method>updateAccount</method>
	                  </cashway_account_config>
	              </observers>
	        </core_config_data_save_after>
        </events>
        <acl>
            <resources>
                <admin>
                    <children>
                        <system>
                            <children>
                                <config>
                                    <children>
                                    	<cashway>
                                   			<title>Cashway API Configuration</title>
                                    	</cashway>
                                        <payment>
                                        	<children>
	                                        	<cashway translate="title">
	                                            	<title>Cashway Payment</title>
	                                            </cashway>
                                        	</children>
                                        </payment>
                                    </children>
                                </config>
                            </children>
                        </system>
                    </children>
                </admin>
            </resources>
        </acl>
	</adminhtml>
	<default>
		<cashway>
			<cashway_api>			
				<api_secret backend_model="adminhtml/system_config_backend_encrypted"/>
				<api_shared_secret backend_model="adminhtml/system_config_backend_encrypted"/>
				<api_secret_test backend_model="adminhtml/system_config_backend_encrypted"/>
				<api_shared_secret_test backend_model="adminhtml/system_config_backend_encrypted"/>
				<api_base_uri>https://api.cashway.fr/</api_base_uri>
				<api_base_uri_test>https://api-staging.cashway.fr/</api_base_uri_test>
				<api_ipn_path>cashway/ipn/</api_ipn_path>
				<account_update_api_endpoint>/shops/me</account_update_api_endpoint>
				<order_api_endpoint>/transactions</order_api_endpoint>
				<confirm_order_api_endpoint>/transactions/$ID/confirm</confirm_order_api_endpoint>
				<evaluate_transaction_api_endpoint>/transactions/hint</evaluate_transaction_api_endpoint>
			</cashway_api>
		</cashway>
		<payment>
			<cashway>
				<active>0</active>
				<title>Cashway payment</title>
				<payment_action>authorize_capture</payment_action>
				<is_test_mode>0</is_test_mode>
				<debug>0</debug>
				<model>cashway/method_cashway</model>		
			</cashway>
		</payment>
	</default>
</config>